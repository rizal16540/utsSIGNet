
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teknik Geomatika UPN "Veteran" Yogyakarta</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
        }
        .header {
            background-color: yellow;
            padding: 15px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }
        .footer {
            background-color: orange;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">Teknik Geomatika UPN "Veteran" Yogyakarta</div>

    <div class="container bg-white p-4 shadow rounded mt-4">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-4 bg-light p-3">
                <h4>Kelompok Bidang Keilmuan (KBK)</h4>
                <ul class="list-group">
                    <li class="list-group-item">KBK Terestris</li>
                    <li class="list-group-item">KBK Sistem Informasi Geografis</li>
                    <li class="list-group-item">KBK Fotogrametri</li>
                    <li class="list-group-item">KBK Penginderaan Jauh</li>
                </ul>
            </div>

            <!-- Konten -->
            <div class="col-md-8">
                <p>Salah satu mata kuliah yang termasuk dalam KBK Sistem Informasi Geografis (SIG) adalah SIG Berbasis Internet. Pada mata kuliah ini mahasiswa mempelajari pengaplikasian SIG dengan berbasis pada platform internet. Mahasiswa mempelajari konsep kerja internet, proses <i>request</i> dan <i>respond</i> oleh <i>user</i> dan <i>client</i>, serta pembangunan website itu sendiri.</p>
                <p>Memahami HTML dan CSS merupakan langkah selanjutnya bagi mahasiswa yang membuat halaman website. Kali ini, salah satu tugas adalah membangun tampilan halaman web sederhana ini. Selanjutnya halaman sederhana ini dikembangkan kembali dengan mengaplikasikan penggunaan Bootstrap.</p>
                <div class="text-center">
                    <img src="img/satelite.jpg" class="img-fluid" alt="Satelite">
                </div>
            </div>
        </div>
    </div>

    <div class="footer">Copyright @Berliansa Rizal Sahede_117220011</div>
</body>
</html>

<!-- Halaman peta.html -->
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Peta Dinamis dan Statis</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
        <div class="header">Jenis dan Contoh Peta</div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h3>Peta Statis</h3>
                <p>Peta statis adalah peta yang tidak berubah dan tetap dalam bentuk cetakan atau digital yang tidak interaktif.</p>
                <img src="img/WIUP.png" class="img-fluid" alt="Contoh Peta Statis">
            </div>
            <div class="col-md-6">
                <h3>Peta Dinamis</h3>
                <p>Peta dinamis adalah peta yang dapat diperbarui dan berinteraksi dengan pengguna, biasanya berbasis web atau aplikasi GIS.</p>
                img src="img/peta dinamis.png" class="img-fluid" alt="Contoh Peta Dinamis">
            </div>
            <div class="col-md-6">
                <iframe</iframe>
            </div>
        </div>
    </div>
</body>
</html>
</head>
<body>
        <div class="header">Peta Interaktif</div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lokasi Bangunan Pondok Pesantren Al-Munawwir</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }
    header {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 150px;
      background-color: #06dfe7;
    }
    h1 {
      font-size: 40px;
      color: transparent;
      background: url(https://yogyaku.com/wp-content/uploads/2024/04/Peran-Ponpes-Al-Munawwir.jpg) no-repeat center center;
      background-size: cover;
      -webkit-background-clip: text;
      background-clip: text;
    }
  </style>
</head>
<body>
  <header>
    <h1>Lokasi Bangunan Pondok Pesantren Al-Munawwir</h1>
  </header>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
  <title>Lokasi Bangunan Pondok Pesantren Al-Munawwir</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSS Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
  <!-- CSS Leaflet Routing Machine -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.css">
  <style>
    body, html { margin: 0; padding: 0; height: 100%; font-family: sans-serif; }
    .container { display: flex; height: 100%; }
    .sidebar {
      width: 300px;
      padding: 20px;
      background: #f9f9f9;
      overflow-y: auto;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }
    .map-container { flex: 1; position: relative; }
    #map { height: 100%; width: 100%; }

    .legend {
      position: absolute;
      bottom: 20px;
      left: 20px;
      background: white;
      padding: 10px;
      font-size: 14px;
      line-height: 18px;
      color: #333;
      border-radius: 4px;
      box-shadow: 0 0 5px rgba(0,0,0,0.2);
      z-index: 1000;
    }
    .legend h4 { margin: 0 0 5px; font-size: 16px; }
    .legend .item { display: flex; align-items: center; margin-bottom: 5px; }
    .legend .color-box {
      width: 20px;
      height: 20px;
      margin-right: 5px;
    }
    .legend .putra { background-color: red; }
    .legend .putri { background-color: green; }
    .legend .umum { background-color: blue; }
    button {
      padding: 8px 12px;
      margin-top: 10px;
      background: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover { background: #0056b3; }
    input[type="text"], select {
      width: 100%;
      padding: 5px;
      margin-bottom: 5px;
      box-sizing: border-box;
    }
    label { font-weight: bold; }
  </style>
  
</head>
<body>
  <div class="container">
    <div class="sidebar">
      <h2>Pondok Pesantren Al-Munawwir</h2>
      <ol>
        <li>Gunakan kontrol zoom pada peta untuk memperbesar atau memperkecil tampilan.</li>
        <li>Klik fitur pada peta untuk menampilkan informasi bangunan.</li>
        <li>Klik tombol "Lokasi Pesantren" untuk melompat ke lokasi pondok.</li>
      </ol>
      <button id="pesantrenBtn">Lokasi Pesantren</button>
      <hr>
      <h3>Rute</h3>
      <p>Masukkan lokasi awal dan tujuan (longitude, latitude atau nama tempat):</p>
      <label for="start">Lokasi Awal:</label>
      <input type="text" id="start" placeholder="Contoh: 106.8650, -6.1751">
      <label for="destination">Lokasi Tujuan:</label>
      <input type="text" id="destination" placeholder="Contoh: 110.3614, -7.8264">
      <select id="travelMode">
        <option value="driving">Kendaraan</option>
        <option value="walking">Jalan Kaki</option>
        <option value="cycling">Bersepeda</option>
      </select>
      <button id="routeBtn">Cari Rute</button>
      <p><small>Contoh: <em>Monas, Jakarta</em></small></p>
    </div>

    <div class="map-container">
      <div id="map"></div>
      <div class="legend">
        <h4>Legenda</h4>
        <div class="item"><div class="color-box putra"></div> Asrama Putra</div>
        <div class="item"><div class="color-box putri"></div> Asrama Putri</div>
        <div class="item"><div class="color-box umum"></div> Bangunan Umum</div>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>
  <script>
    var map = L.map('map').setView([-7.826417, 110.361441], 15);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    function addGeoJSONLayer(filePath, styleOptions) {
      fetch(filePath)
        .then(response => {
          if (!response.ok) throw new Error('Network error: ' + response.statusText);
          return response.json();
        })
        .then(data => {
          console.log(`Loaded ${filePath}`);
          L.geoJSON(data, {
            style: styleOptions,
            onEachFeature: function(feature, layer) {
              var name = feature.properties?.name || 'Informasi';
              layer.bindPopup(name);
            }
          }).addTo(map);
        })
        .catch(err => {
          console.error('Gagal memuat', filePath, err);
        });
    }

    // Tambahkan lapisan geojson
    addGeoJSONLayer('asrama_putra_cleaned.geojson', { color: 'red', weight: 2, fillOpacity: 0.3 });
    addGeoJSONLayer('asrama_putri_cleaned.geojson', { color: 'green', weight: 2, fillOpacity: 0.3 });
    addGeoJSONLayer('bangunan_umum_cleaned.geojson', { color: 'blue', weight: 2, fillOpacity: 0.3 });

    // Tombol Lokasi Pesantren
    var pesantrenCoords = [-7.826417, 110.361441];
    document.getElementById('pesantrenBtn').addEventListener('click', () => {
      map.flyTo(pesantrenCoords, 17);
    });

    let routingControl;

    function resolveLocation(input) {
      return new Promise((resolve, reject) => {
        if (input.includes(',')) {
          let [lon, lat] = input.split(',').map(s => parseFloat(s.trim()));
          if (!isNaN(lat) && !isNaN(lon)) {
            resolve(L.latLng(lat, lon));
          } else {
            reject("Format koordinat salah");
          }
        } else {
          // Gunakan Nominatim untuk geocoding nama tempat
          fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(input)}`)
            .then(res => res.json())
            .then(data => {
              if (data.length > 0) {
                resolve(L.latLng(parseFloat(data[0].lat), parseFloat(data[0].lon)));
              } else {
                reject("Tempat tidak ditemukan.");
              }
            })
            .catch(err => reject("Error saat geocoding: " + err));
        }
      });
    }

    document.getElementById('routeBtn').addEventListener('click', () => {
      let start = document.getElementById('start').value.trim();
      let end = document.getElementById('destination').value.trim();
      let mode = document.getElementById('travelMode').value;

      if (!start || !end) {
        alert("Lengkapi lokasi awal dan tujuan.");
        return;
      }

      Promise.all([resolveLocation(start), resolveLocation(end)])
        .then(([startLoc, endLoc]) => {
          if (routingControl) map.removeControl(routingControl);

          routingControl = L.Routing.control({
            waypoints: [startLoc, endLoc],
            router: L.Routing.osrmv1({
              serviceUrl: 'https://router.project-osrm.org/route/v1',
              profile: mode
            }),
            lineOptions: {
              styles: [{ color: 'purple', weight: 5, opacity: 0.8 }]
            },
            createMarker: function(i, waypoint) {
              return L.marker(waypoint.latLng);
            },
            addWaypoints: false,
            draggableWaypoints: false,
            fitSelectedRoutes: true,
            showAlternatives: false
          }).addTo(map);
          map.flyTo(endLoc, 16);
        })
        .catch(error => alert(error));
    });
  </script>
</body>
</html>
